{"level":"error","message":"connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"service":"experience-service","stack":"MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/src/config/database.js:15:5)\n    at async startServer (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/src/index.js:103:5)","timestamp":"2025-11-20 15:17:19"}
{"level":"error","message":"connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":null,"stale":false,"type":"Unknown"},"service":"experience-service","stack":"MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/node_modules/mongoose/lib/connection.js:816:11)\n    at NativeConnection.openUri (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/node_modules/mongoose/lib/connection.js:791:11)\n    at async connectDB (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/src/config/database.js:15:5)\n    at async startServer (/home/arwa/hopTrip/hometrip-microservices/services/experience-service/src/index.js:103:5)","timestamp":"2025-11-20 15:21:57"}
{"level":"info","message":"‚úÖ MongoDB connected: ac-m1ddtq7-shard-00-02.hxvjyu7.mongodb.net","service":"experience-service","timestamp":"2025-11-20 15:22:30"}
{"level":"info","message":"‚úÖ Connected to RabbitMQ","service":"experience-service","timestamp":"2025-11-20 15:22:30"}
{"level":"info","message":"‚úÖ Subscribed to pattern: booking.completed","service":"experience-service","timestamp":"2025-11-20 15:22:30"}
{"level":"info","message":"‚úÖ Subscribed to pattern: user.deleted","service":"experience-service","timestamp":"2025-11-20 15:22:30"}
{"level":"info","message":"‚úÖ experience-service running on port 4011","service":"experience-service","timestamp":"2025-11-20 15:22:30"}
{"level":"info","message":"üìö API Docs: http://localhost:4011/api-docs","service":"experience-service","timestamp":"2025-11-20 15:22:30"}
{"level":"info","message":"üè• Health check: http://localhost:4011/health","service":"experience-service","timestamp":"2025-11-20 15:22:30"}
{"level":"info","message":"‚úÖ MongoDB connected: ac-m1ddtq7-shard-00-02.hxvjyu7.mongodb.net","service":"coupon-service","timestamp":"2025-11-20 15:49:41"}
{"level":"info","message":"‚úÖ Connected to RabbitMQ","service":"coupon-service","timestamp":"2025-11-20 15:49:41"}
{"level":"info","message":"‚úÖ Subscribed to pattern: booking.completed","service":"coupon-service","timestamp":"2025-11-20 15:49:41"}
{"level":"info","message":"‚úÖ Subscribed to pattern: user.deleted","service":"coupon-service","timestamp":"2025-11-20 15:49:41"}
{"level":"info","message":"‚úÖ coupon-service running on port 4017","service":"coupon-service","timestamp":"2025-11-20 15:49:41"}
{"level":"info","message":"üìö API Docs: http://localhost:4017/api-docs","service":"coupon-service","timestamp":"2025-11-20 15:49:41"}
{"level":"info","message":"üè• Health check: http://localhost:4017/health","service":"coupon-service","timestamp":"2025-11-20 15:49:41"}
{"level":"info","message":"‚úÖ MongoDB connected: ac-m1ddtq7-shard-00-00.hxvjyu7.mongodb.net","service":"coupon-service","timestamp":"2025-11-20 17:43:52"}
{"level":"info","message":"‚úÖ Connected to RabbitMQ","service":"coupon-service","timestamp":"2025-11-20 17:43:52"}
{"level":"info","message":"‚úÖ Subscribed to pattern: booking.completed","service":"coupon-service","timestamp":"2025-11-20 17:43:52"}
{"level":"info","message":"‚úÖ Subscribed to pattern: user.deleted","service":"coupon-service","timestamp":"2025-11-20 17:43:52"}
{"level":"info","message":"‚úÖ coupon-service running on port 4017","service":"coupon-service","timestamp":"2025-11-20 17:43:52"}
{"level":"info","message":"üìö API Docs: http://localhost:4017/api-docs","service":"coupon-service","timestamp":"2025-11-20 17:43:52"}
{"level":"info","message":"üè• Health check: http://localhost:4017/health","service":"coupon-service","timestamp":"2025-11-20 17:43:52"}
{"level":"info","message":"SIGTERM received. Closing server gracefully...","service":"coupon-service","timestamp":"2025-11-20 18:09:31"}
{"level":"info","message":"HTTP server closed","service":"coupon-service","timestamp":"2025-11-20 18:09:31"}
{"level":"warn","message":"MongoDB disconnected. Attempting to reconnect...","service":"coupon-service","timestamp":"2025-11-20 18:09:31"}
{"level":"info","message":"MongoDB connection closed","service":"coupon-service","timestamp":"2025-11-20 18:09:31"}
{"level":"warn","message":"RabbitMQ connection closed. Reconnecting...","service":"coupon-service","timestamp":"2025-11-20 18:09:31"}
